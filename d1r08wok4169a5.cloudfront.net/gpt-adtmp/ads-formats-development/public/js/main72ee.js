import{device}from"./libraries/device.js";import{cargabloque}from"./libraries/carga_bloque.js";import{pageStatus}from"./libraries/page_status.js";import{cargabloquefv}from"./libraries/carga_bloque_fv.js";import{logInfo,testSkinOn}from"./libraries/utils.js";import{stickyCaja}from"./libraries/sticky_caja.js";function CssIframeContinua(){let o=window.top.document.querySelectorAll("iframe.st-iframe");for(let e=0;e<o.length;e++){const t=o[e];t&&t.classList.add("ads-skin-active")}}if(window.top.gpt_Expandible_DSK=function(){},window.top.gpt_Expandible_MOB=function(){},"trome.pe"==window.location.hostname){var _device=device(),adZocaloLoad=0;"desktop"!==_device&&window.addEventListener("scroll",function(){if(window.scrollY>=100&&!adZocaloLoad){adZocaloLoad=1;let o=new ArcAds({dfp:{id:"28253241"}}),e=window.adsCollection.filter(o=>"gpt_zocalo"===o.id)||[];o.registerAdZocalo(e)}})}if(0===window.location.pathname.indexOf("/carga-continua/")&&(logInfo("Load Nota Continua 2",window.top.skin_continua),window.top.skin_continua&&CssIframeContinua(),window.top.addEventListener("message",o=>{"object"==typeof o.data&&o.data.target&&"ads-skin-active"===o.data.target&&CssIframeContinua()},!1)),"mag.elcomercio.pe"==window.location.hostname||"elcomercio-elcomerciomag-sandbox.cdn.arcpublishing.com"==window.location.hostname){var d=device();adZocaloLoad=0;logInfo("debug_zocalo load"),"desktop"!==d&&window.addEventListener("scroll",function(o){if(window.scrollY>=100&&!adZocaloLoad){adZocaloLoad=1;let o=new ArcAds({dfp:{id:"28253241"}}),e=window.adsCollection.filter(o=>"gpt_zocalo"===o.id)||[];o.registerAdZocalo(e)}})}window.addEventListener("load",function(){"desktop"==device()&&requestIdle(function(){if(0===window.location.pathname.indexOf("/carga-continua/"))stickyCaja()})}),window.addEventListener("load",function(){requestIdle(function(){if(-1!=document.querySelector("body").getAttribute("class").search("gallery_vertical"))cargabloquefv();else cargabloque()})}),document.addEventListener("DOMContentLoaded",function(){pageStatus();var o=device();try{var e=`https://d1r08wok4169a5.cloudfront.net/gpt-adtmp/ads-formats-development/public/css/ads-styles-${o}.css`,t=document.getElementsByTagName("head")[0],a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=e,t.appendChild(a)}catch(o){console.log("main.js error load css")}var n,i=function(){"undefined"!=typeof googletag?(clearTimeout(n),s()):n=setTimeout(i,250)},s=function(){googletag.cmd.push(function(){googletag.pubads().addEventListener("slotOnload",function(e){if(e&&!e.isEmpty){var t;switch(logInfo("2load slot "+e.slot.getSlotElementId()),e.slot.getSlotElementId()){case"gpt_skin":t="desktop"===o?"./components/skin.js":"./components/zocalo.js";break;case"gpt_lateralr":case"gpt_laterall":t="./components/laterales.js";break;case"gpt_inline":t="./components/inline.js";break;case"gpt_caja1":t="./components/caja1.js";break;case"gpt_zocalo":t="./components/zocalo.js";break;case"gpt_vslider":t="./components/vslider.js";break;case"gpt_top":t="./components/expandible.js"}!function(o,e,t){(async()=>{"string"==typeof o&&(await import(o)).default(t,e)})()}(t,o,e)}})})};i()});